<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="style.css">
    <title>Farm in Fantasy</title>
    <script src="react.js"></script>
    <script src="react-dom.js"></script>
    <script src="babel.js"></script>
</head>

<body id="mainBody" class="dayBody">
    <div id="program"></div>
    <script type="text/babel">

        class Field extends React.Component {

            render() {
                return (
                    <div>
                        <button className="btn">{this.props.children}</button>
                    </div>
                )
            }
        }

        class fullFields extends React.Component {
            constructor(props) {
                super(props);
                this.state = { fields: [['#', '#', '#', '#', '#', '#'], [0, 0, 0, 0, 0, 0]] };
            };
            fromShop = (idx, it, time) => {
                var mas = this.state.fields;
                mas[0][idx] = it;
                mas[1][idx] = time;
                this.setState({ fields: mas })
            };
            eachField = () => {
                var mas = this.state.fields;
                for (let i = 0; i < 6; i++) {
                    return (
                        <div>
                            <Field key={i} time={mas[1][i]} fromShop={this.fromShop} >{mas[0][i]}</Field>
                        </div>
                    );
                }
            }
            render() {
                return (this.eachField);
            };
        }

        class Diolog extends React.Component {
            render() {
                return (
                    <div className="box">
                        <div>Hello, world!</div>
                        <button>Yes</button>
                        <button>No</button>
                    </div>
                );
            };
        }

        class DayNight extends React.Component {
            constructor(props) {
                super(props);
                this.state = { day: true };
            };
            change = () => {
                if (this.state.day) {
                    this.setState({ day: false });
                    this.Night();
                    document.body.className = "nightBody";

                } else {
                    this.setState({ day: true });
                    this.Day();
                    document.body.className = "dayBody";
                }
            };
            Day = () => {
                return (
                    <div>
                        <button onClick={this.change} className="btn dayOrNight">day</button>
                    </div>
                );
            };
            Night = () => {
                return (
                    <div>
                        <button onClick={this.change} className="btn dayOrNight">night</button>
                    </div>
                );

            };
            render() {
                if (this.state.day) {
                    return (this.Day());
                } else {
                    return (this.Night());
                }
            };
        }

        class Vegetables extends React.Component {
            constructor(props) {
                super(props);
                this.state = { do: false };
            }
            plant = () => {

            };
            render() {
                if (this.state.do) {
                    <div>
                        <button ref="meaning" defaultValue={this.props.children}></button>
                    </div>
                } else {
                    <div>
                        <button ref="meaning" defaultValue={this.props.children}></button>
                    </div>
                }
            }
        }

        class Talks extends React.Component {
            constructor(props) {
                super(props);
                this.state = { talhing: false };
            };
            StartTalking = () => {
                if (this.state.talking) {
                    this.setState({ talking: false });
                } else {
                    this.setState({ talking: true });
                }
            }
            render() {
                if (this.state.talking) {
                    return (
                        <div>
                            <div id="topBtnBarT">
                                <button onClick={this.StartTalking}>talking</button>
                            </div>
                            <Diolog />
                        </div>
                    );
                } else {
                    return (
                        <div>
                            <div id="topBtnBarT">
                                <button onClick={this.StartTalking}>talking</button>
                            </div>
                        </div>
                    );
                }

            };
        }

        class TheShop extends React.Component {
            constructor(props) {
                super(props);
                this.state = { selected: false };
            };
            select = () => {
                if (this.state.selected) {
                    this.setState({ selected: false });
                } else {
                    this.setState({ selected: true });
                }
            };

            mainShop = () => {
                return (
                    <div>
                        <button onClick={this.select} className="btn mainShop">{this.props.children}</button>
                    </div>
                );
            };
            selectedShop = () => {
                return (
                    <div>
                        <button onClick={this.select} className="btn selectedShop">{this.props.children}</button>
                    </div>
                );
            };
            render() {
                if (this.state.selected) {
                    return this.selectedShop();
                } else {
                    return this.mainShop();
                }
            };
        }

        class TheBigShop extends React.Component {
            items = ['Ш', '♥', '♦', '•', '○', '♣', '♠', '☼', '↕', '¶', '§', '↨', '↑', '↓', '▼', '//'];
            price = [1, 2, 5, 10, 15, 16, 18,];
            cost = [2, 4, 10, 20,];

            view = (item, i) => {
                return (
                    <div>
                        <TheShop key={i}>{item}</TheShop>
                    </div>
                );
            };

            render() {
                return (
                    this.items.map(this.view)
                );
            }
        }

        var app = document.getElementById("program");
        ReactDOM.render(
            <div>
                <div id="topBtnBar">
                    <DayNight />
                </div>
                <Talks />
                <Field />
                <Diolog />
                <TheBigShop />
            </div>,
            app
        );
    </script>
</body>

</html>